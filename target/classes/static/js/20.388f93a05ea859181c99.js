webpackJsonp([20],{"1mLE":function(t,e){},uJUI:function(t,e,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=l("lHA8"),n=l.n(a),i=l("c/Tr"),s=l.n(i),o={data:function(){return{tableData:[],formInline:{id:"",equipName:"",equipModel:"",station:"",status:"",level:"",isInit:!1},equipModels:[],stations:[],statuss:[],levels:[]}},mounted:function(){this.getEquipAndStation()},inject:["reload"],methods:{getEquipAndStation:function(){var t=this;this.$store.dispatch("datar/getEquipAndStation",this.formInline).then(function(e){if(t.tableData=e,!t.isInit){var l=[],a=[],n=[],i=[];e.forEach(function(t,e){l.push(t.model),a.push(t.station.name),n.push(t.status),i.push(t.station.currlevel)}),t.equipModels=t.unique(l),t.stations=t.unique(a),t.statuss=t.unique(n),t.levels=t.unique(i),t.isInit=!0}})},unique:function(t){return s()(new n.a(t.sort()))},tableRowClassName:function(t){var e=t.row;t.rowIndex;return 2===e.status?"warning-row":3===e.status?"repair-row":""},handleClick:function(t){this.$router.push("/dataRelated/equipList/dataDetails/"+t.id)}}},r={render:function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"dataR"},[l("div",{staticClass:"data",staticStyle:{"background-color":"#FFFFFF"}},[l("el-row",[l("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.formInline}},[l("el-form-item",{attrs:{label:"设备编号 "}},[l("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"设备编号"},model:{value:t.formInline.id,callback:function(e){t.$set(t.formInline,"id",e)},expression:"formInline.id"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"设备名称 "}},[l("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"设备名称"},model:{value:t.formInline.equipName,callback:function(e){t.$set(t.formInline,"equipName",e)},expression:"formInline.equipName"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"设备型号"}},[l("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"设备型号"},model:{value:t.formInline.equipModel,callback:function(e){t.$set(t.formInline,"equipModel",e)},expression:"formInline.equipModel"}},[l("el-option",{attrs:{label:"---请选择---",value:""}}),t._v(" "),t._l(this.equipModels,function(t,e){return l("el-option",{key:e,attrs:{label:t,value:t}})})],2)],1),t._v(" "),l("el-form-item",{attrs:{label:"站点 "}},[l("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"站点"},model:{value:t.formInline.station,callback:function(e){t.$set(t.formInline,"station",e)},expression:"formInline.station"}},[l("el-option",{attrs:{label:"---请选择---",value:""}}),t._v(" "),t._l(this.stations,function(t,e){return l("el-option",{key:e,attrs:{label:t,value:t}})})],2)],1),t._v(" "),l("el-form-item",{attrs:{label:"设备状态"}},[l("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"设备状态"},model:{value:t.formInline.status,callback:function(e){t.$set(t.formInline,"status",e)},expression:"formInline.status"}},[l("el-option",{attrs:{label:"---请选择---",value:""}}),t._v(" "),t._l(this.statuss,function(t,e){return l("el-option",{key:e,attrs:{label:t,value:t}})})],2)],1),t._v(" "),l("el-form-item",{attrs:{label:"水质等级"}},[l("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"水质等级"},model:{value:t.formInline.level,callback:function(e){t.$set(t.formInline,"level",e)},expression:"formInline.level"}},[l("el-option",{attrs:{label:"---请选择---",value:""}}),t._v(" "),t._l(this.levels,function(t,e){return l("el-option",{key:e,attrs:{label:t,value:t}})})],2)],1),t._v(" "),l("el-form-item",[l("el-button",{attrs:{type:"primary"},on:{click:t.getEquipAndStation}},[t._v("查询")])],1)],1)],1),t._v(" "),l("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[l("el-table-column",{attrs:{type:"expand",fixed:"left",width:"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[l("el-form-item",{attrs:{label:"设备编号"}},[l("span",[t._v(t._s(e.row.id))])]),t._v(" "),l("el-form-item",{attrs:{label:"设备名称"}},[l("span",[t._v(t._s(e.row.name))])]),t._v(" "),l("el-form-item",{attrs:{label:"设备型号"}},[l("span",[t._v(t._s(e.row.model))])]),t._v(" "),l("el-form-item",{attrs:{label:"设备生产日期"}},[l("span",[t._v(t._s(e.row.productiontime))])]),t._v(" "),l("el-form-item",{attrs:{label:"设备使用年限"}},[l("span",[t._v(t._s(e.row.availabletime))])]),t._v(" "),l("el-form-item",{attrs:{label:"设备生产厂家"}},[l("span",[t._v(t._s(e.row.productionplace))])]),t._v(" "),l("el-form-item",{attrs:{label:"设备状态"}},[l("span",[t._v(t._s(e.row.status))])]),t._v(" "),l("el-form-item",{attrs:{label:"所属站点名称"}},[l("span",[t._v(t._s(e.row.station.name))])]),t._v(" "),l("el-form-item",{attrs:{label:"所属站点当前水质等级"}},[l("span",[t._v(t._s(e.row.station.currlevel))])]),t._v(" "),l("el-form-item",{attrs:{label:"所属站点上周水质等级"}},[l("span",[t._v(t._s(e.row.station.prelevel))])])],1)]}}])}),t._v(" "),l("el-table-column",{attrs:{label:"设备编号",prop:"id",width:"150",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{label:"设备名称",prop:"name",width:"150",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{label:"设备型号",prop:"model",width:"200",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{label:"所属站点名称",prop:"station.name",width:"200",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{label:"设备状态",prop:"status",width:"100",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{label:"所属站点当前水质等级",prop:"station.currlevel",width:"100",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(l){return t.handleClick(e.row)}}},[t._v("数据详情")]),t._v(" "),l("el-button",{attrs:{type:"text",size:"small"}},[t._v("编辑")])]}}])})],1)],1)])},staticRenderFns:[]};var u=l("VU/8")(o,r,!1,function(t){l("1mLE")},null,null);e.default=u.exports}});
//# sourceMappingURL=20.388f93a05ea859181c99.js.map