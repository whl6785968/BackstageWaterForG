webpackJsonp([16],{ImjS:function(t,e){},UEYv:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l={data:function(){return{tableData:[],dialogFormVisible:!1,dialogFormVisible1:!1,currentPage:1,default_pageSize:10,totalPage:0,form:{id:"",name:"",model:"",productiontime:"",availabletime:"",productionplace:"",status:"",stationId:""},form1:{id:"",name:"",model:"",productiontime:"",availabletime:"",productionplace:"",status:"",stationId:""},stations:""}},mounted:function(){this.initData()},inject:["reload"],methods:{initData:function(){var t=this,e={page:this.currentPage,pageSize:this.default_pageSize};this.$store.dispatch("sysd/getAllEquip",e).then(function(e){t.tableData=e.obj.list,t.totalPage=e.obj.total})},getStation:function(){var t=this;this.$store.dispatch("sysd/getAllStation",{page:1,pageSize:1e3}).then(function(e){t.stations=e.obj.list})},add:function(){var t=this;this.$store.dispatch("sysd/addEquip",this.form).then(function(e){t.$message({message:e.msg,type:"success"}),t.reload(),t.dialogFormVisible=!1})},showModifyWindow:function(t){this.dialogFormVisible1=!0,this.form1.id=t.id,this.form1.name=t.name,this.form1.model=t.model,this.form1.productiontime=t.productiontime,this.form1.availabletime=t.availabletime,this.form1.productionplace=t.productionplace,this.form1.status=t.status,this.form1.stationId=t.station.id},modify:function(){var t=this;this.$store.dispatch("sysd/modifyEquip",this.form1).then(function(e){t.$message.success(e.msg),t.reload()})},handleSizeChange:function(t){var e=this;console.log("每页 "+t+" 条"),this.defalut_pageSize=t;var a={page:this.currentPage,pageSize:this.default_pageSize};this.$store.dispatch("sysd/getAllEquip",a).then(function(t){e.tableData=t.obj.list,e.totalPage=t.obj.total})},handleCurrentChange:function(t){var e=this;console.log("当前页: "+t),this.currentPage=t;var a={page:this.currentPage,pageSize:this.default_pageSize};this.$store.dispatch("sysd/getAllEquip",a).then(function(t){e.tableData=t.obj.list,e.totalPage=t.obj.total})}}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"equipManage"},[a("div",{staticStyle:{"margin-bottom":"20px",float:"left"}},[a("el-button",{attrs:{type:"success"},on:{click:function(e){t.dialogFormVisible=!0}}},[t._v("添加")])],1),t._v(" "),a("div",{staticClass:"block",staticStyle:{float:"right"}},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[5,10,15,20],"page-size":t.default_pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.totalPage},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{fixed:"",prop:"id",label:"设备编号",width:"150",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"设备名称",width:"150",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"model",label:"设备型号",width:"150",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"productiontime",label:"生产日期",width:"150",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"availabletime",label:"设备使用年限",width:"120",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"productionplace",label:"设备生产商",width:"150",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"设备状态",width:"120",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"station.name",label:"所属站点",width:"120",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.showModifyWindow(e.row)}}},[t._v("修改")]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-dialog",{staticStyle:{"margin-left":"170px","margin-top":"-100px"},attrs:{title:"添加",visible:t.dialogFormVisible,modal:!0,"modal-append-to-body":!1,width:"600px"},on:{"update:visible":function(e){t.dialogFormVisible=e},open:t.getStation}},[a("el-form",{ref:"form",staticStyle:{width:"350px","padding-left":"100px"},attrs:{model:t.form,"label-width":"120px","label-position":"left",size:"small"}},[a("el-form-item",{attrs:{label:"设备编号"}},[a("el-input",{staticStyle:{width:"200px"},model:{value:t.form.id,callback:function(e){t.$set(t.form,"id",e)},expression:"form.id"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"设备名称"}},[a("el-input",{staticStyle:{width:"200px"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"设备型号"}},[a("el-input",{staticStyle:{width:"200px"},model:{value:t.form.model,callback:function(e){t.$set(t.form,"model",e)},expression:"form.model"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"设备生产日期"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:t.form.productiontime,callback:function(e){t.$set(t.form,"productiontime",e)},expression:"form.productiontime"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"设备使用年限"}},[a("el-input",{staticStyle:{width:"200px"},model:{value:t.form.availabletime,callback:function(e){t.$set(t.form,"availabletime",e)},expression:"form.availabletime"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"设备生产商"}},[a("el-input",{staticStyle:{width:"200px"},model:{value:t.form.productionplace,callback:function(e){t.$set(t.form,"productionplace",e)},expression:"form.productionplace"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"设备状态"}},[a("el-input",{staticStyle:{width:"200px"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"设备所属站点"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.stationId,callback:function(e){t.$set(t.form,"stationId",e)},expression:"form.stationId"}},t._l(t.stations,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})}),1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.add}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{staticStyle:{"margin-left":"170px","margin-top":"-100px"},attrs:{title:"修改",visible:t.dialogFormVisible1,modal:!0,"modal-append-to-body":!1,width:"600px"},on:{"update:visible":function(e){t.dialogFormVisible1=e},open:t.getStation}},[a("el-form",{ref:"form1",staticStyle:{width:"350px","padding-left":"100px"},attrs:{model:t.form1,"label-width":"120px","label-position":"left",size:"small"}},[a("el-form-item",{attrs:{label:"设备编号"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{disabled:""},model:{value:t.form1.id,callback:function(e){t.$set(t.form1,"id",e)},expression:"form1.id"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"设备名称"}},[a("el-input",{staticStyle:{width:"200px"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"设备型号"}},[a("el-input",{staticStyle:{width:"200px"},model:{value:t.form1.model,callback:function(e){t.$set(t.form1,"model",e)},expression:"form1.model"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"设备生产日期"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:t.form1.productiontime,callback:function(e){t.$set(t.form1,"productiontime",e)},expression:"form1.productiontime"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"设备使用年限"}},[a("el-input",{staticStyle:{width:"200px"},model:{value:t.form1.availabletime,callback:function(e){t.$set(t.form1,"availabletime",e)},expression:"form1.availabletime"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"设备生产商"}},[a("el-input",{staticStyle:{width:"200px"},model:{value:t.form1.productionplace,callback:function(e){t.$set(t.form1,"productionplace",e)},expression:"form1.productionplace"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"设备状态"}},[a("el-input",{staticStyle:{width:"200px"},model:{value:t.form1.status,callback:function(e){t.$set(t.form1,"status",e)},expression:"form1.status"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"设备所属站点"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form1.stationId,callback:function(e){t.$set(t.form1,"stationId",e)},expression:"form1.stationId"}},[a("el-option",{attrs:{label:"无",value:"000"}}),t._v(" "),t._l(t.stations,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})})],2)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.modify}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var o=a("VU/8")(l,i,!1,function(t){a("ImjS")},null,null);e.default=o.exports}});
//# sourceMappingURL=16.03e3c6983866ef2ab2ae.js.map