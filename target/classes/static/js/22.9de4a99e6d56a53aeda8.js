webpackJsonp([22],{ZKz7:function(t,e){},hWJQ:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l={data:function(){return{tableData:[],entityAmbiguous:"",entityName:"",dialogTableVisible:!1,dialogFormVisible2:!1,dialogFormVisible3:!1,relationTitle:"",currentEntityId:"",currentEntityName:"",relationData:[],currentEntity:"",currentPage:1,default_pageSize:10,totalPage:0,sizeForm:{entity:"",entityAmbiguous:"",entityLink:"",startLabel:"",relation:"",des:"",value:"",valueAmbiguous:"",valueLink:"",endLabel:""},entityForm:{entityName:"",entityAmbiguous:"",entityLink:"",label:""}}},mounted:function(){this.initData()},inject:["reload"],methods:{initData:function(){var t=this,e={entityName:this.entityName,entityAmbiguous:this.entityAmbiguous,page:this.currentPage,pageSize:this.default_pageSize};this.$store.dispatch("kg/getEntities",e).then(function(e){t.tableData=e.obj.list,t.totalPage=e.obj.totalCount})},eliminateEli:function(t){return t=t.replace(/\"/g,"")},search:function(){this.currentPage=1,this.initData()},relationManager:function(t){this.dialogTableVisible=!0,this.relationTitle=this.eliminateEli(t.entityName)+"的关系管理",this.currentEntityId=t.entityId,this.currentEntityName=t.entityName,this.currentEntity=t},getRelation:function(){var t=this;this.$store.dispatch("kg/getRelation",this.currentEntityId).then(function(e){t.relationData=e.obj})},handleSizeChange:function(t){var e=this;console.log("每页 "+t+" 条"),this.default_pageSize=t;var i={entityName:this.entityName,entityAmbiguous:this.entityAmbiguous,page:this.currentPage,pageSize:this.default_pageSize};this.$store.dispatch("kg/getEntities",i).then(function(t){e.tableData=t.obj.list,e.totalPage=t.obj.totalCount})},handleCurrentChange:function(t){var e=this;console.log("当前页: "+t),this.currentPage=t;var i={entityName:this.entityName,entityAmbiguous:this.entityAmbiguous,page:this.currentPage,pageSize:this.default_pageSize};this.$store.dispatch("kg/getEntities",i).then(function(t){e.tableData=t.obj.list,e.totalPage=t.obj.totalCount})},openAdd:function(){this.sizeForm.entity=this.eliminateEli(this.currentEntity.entityName),this.sizeForm.entityAmbiguous=this.eliminateEli(this.currentEntity.entityAmbiguous),this.sizeForm.entityLink=this.eliminateEli(this.currentEntity.entityLink),this.sizeForm.startLabel=this.currentEntity.entity_label[1]},createRelation:function(){var t=this;this.$store.dispatch("kg/save",this.sizeForm).then(function(e){t.$message.success(e.msg),t.reload()})},addEntity:function(){var t=this;this.$store.dispatch("kg/createEntitiy",this.entityForm).then(function(e){t.$message.success(e.msg),t.reload()})},judgeDirect:function(t){if(t.contains("被"))return 1}}},a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"knowledgeManager"},[i("div",{staticClass:"tools"},[i("div",{staticClass:"conditionalSearch",staticStyle:{float:"left"}},[i("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入实体名称"},model:{value:t.entityName,callback:function(e){t.entityName=e},expression:"entityName"}}),t._v(" "),i("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入实体歧义"},model:{value:t.entityAmbiguous,callback:function(e){t.entityAmbiguous=e},expression:"entityAmbiguous"}}),t._v(" "),i("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.search}},[t._v("查询")]),t._v(" "),i("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(e){t.dialogFormVisible3=!0}}},[t._v("添加")])],1),t._v(" "),i("div",{staticStyle:{float:"right"}},[i("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[5,10,15,20],"page-size":t.default_pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.totalPage},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)]),t._v(" "),i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[i("el-table-column",{attrs:{fixed:"",label:"实体编号",prop:"entityId",width:"150",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{label:"实体名称",width:"300",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(t._f("ellipsis")(t.eliminateEli(e.row.entityName)))+"\n      ")]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"实体歧义",width:"300",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(t.eliminateEli(e.row.entityAmbiguous))+"\n      ")]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"实体类别",width:"300",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.entity_label)+"\n      ")]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"实体链接",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(t.eliminateEli(e.row.entityLink))+"\n      ")]}}])}),t._v(" "),i("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){return t.relationManager(e.row)}}},[t._v("关系管理")]),t._v(" "),i("el-button",{attrs:{type:"text",size:"small"}},[t._v("知识管理")])]}}])})],1),t._v(" "),i("el-dialog",{staticStyle:{height:"800px","margin-left":"200px","margin-top":"-100px"},attrs:{visible:t.dialogTableVisible,"modal-append-to-body":!1,width:"95%"},on:{"update:visible":function(e){t.dialogTableVisible=e},open:t.getRelation}},[i("div",{staticStyle:{"margin-bottom":"20px","margin-top":"-30px"}},[i("font",{attrs:{size:"4"}},[t._v(t._s(t._f("ellipsis")(t.relationTitle)))]),t._v(" "),i("el-button",{staticStyle:{"margin-left":"25px"},attrs:{type:"primary",icon:"el-icon-plus",size:"medium"},on:{click:function(e){t.dialogFormVisible2=!0}}},[t._v("创建")])],1),t._v(" "),i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.relationData,border:!1}},[i("el-table-column",{attrs:{prop:"entityId",label:"实体编号",width:"80",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{label:"实体名称",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t._f("ellipsis")(t.eliminateEli(e.row.entity)))+"\n        ")]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"entityAmbiguous",label:"实体歧义",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t.eliminateEli(e.row.entityAmbiguous))+"\n        ")]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"entityLink",label:"实体链接",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t.eliminateEli(e.row.entityLink))+"\n        ")]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"relationId",label:"关系编号",width:"80",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{prop:"relation",label:"关系",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t.eliminateEli(e.row.relation))+"\n        ")]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"valueId",label:"值编号",width:"80",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{prop:"value",label:"值",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t._f("ellipsis")(t.eliminateEli(e.row.value)))+"\n        ")]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"valueAmbiguous",label:"值歧义",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t.eliminateEli(e.row.valueAmbiguous))+"\n        ")]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"valueLink",label:"值链接",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t.eliminateEli(e.row.valueLink))+"\n        ")]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"desc",label:"描述",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t._f("ellipsis")(t.eliminateEli(e.row.desc)))+"\n        ")]}}])}),t._v(" "),i("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{icon:"el-icon-edit",plain:"",size:"mini"}}),t._v(" "),i("el-button",{attrs:{icon:"el-icon-delete",plain:"",size:"mini"}})]}}])})],1)],1),t._v(" "),i("el-dialog",{staticStyle:{"margin-top":"-100px","margin-left":"120px"},attrs:{title:"添加关系",visible:t.dialogFormVisible2,"modal-append-to-body":!1},on:{"update:visible":function(e){t.dialogFormVisible2=e},open:t.openAdd}},[i("el-form",{ref:"form",staticStyle:{width:"500px","margin-left":"100px"},attrs:{model:t.sizeForm,"label-width":"80px",size:"mini"}},[i("el-form-item",{attrs:{label:"实体名称"}},[i("el-input",{model:{value:t.sizeForm.entity,callback:function(e){t.$set(t.sizeForm,"entity",e)},expression:"sizeForm.entity"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"实体歧义"}},[i("el-input",{attrs:{disabled:""},model:{value:t.sizeForm.entityAmbiguous,callback:function(e){t.$set(t.sizeForm,"entityAmbiguous",e)},expression:"sizeForm.entityAmbiguous"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"实体链接"}},[i("el-input",{attrs:{disabled:""},model:{value:t.sizeForm.entityLink,callback:function(e){t.$set(t.sizeForm,"entityLink",e)},expression:"sizeForm.entityLink"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"实体标签"}},[i("el-radio-group",{staticStyle:{width:"500px"},attrs:{size:"medium",disabled:""},model:{value:t.sizeForm.startLabel,callback:function(e){t.$set(t.sizeForm,"startLabel",e)},expression:"sizeForm.startLabel"}},[i("el-radio",{attrs:{border:!0,label:"站点"}}),t._v(" "),i("el-radio",{attrs:{border:"",label:"区域"}}),t._v(" "),i("el-radio",{attrs:{border:"",label:"知识"}}),t._v(" "),i("el-radio",{attrs:{border:"",label:"企业"}})],1)],1),t._v(" "),i("el-form-item",{attrs:{label:"关系"}},[i("el-input",{model:{value:t.sizeForm.relation,callback:function(e){t.$set(t.sizeForm,"relation",e)},expression:"sizeForm.relation"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"值名称"}},[i("el-input",{model:{value:t.sizeForm.value,callback:function(e){t.$set(t.sizeForm,"value",e)},expression:"sizeForm.value"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"值歧义"}},[i("el-input",{model:{value:t.sizeForm.valueAmbiguous,callback:function(e){t.$set(t.sizeForm,"valueAmbiguous",e)},expression:"sizeForm.valueAmbiguous"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"值链接"}},[i("el-input",{model:{value:t.sizeForm.valueLink,callback:function(e){t.$set(t.sizeForm,"valueLink",e)},expression:"sizeForm.valueLink"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"值标签"}},[i("el-radio-group",{staticStyle:{width:"500px"},attrs:{size:"medium"},model:{value:t.sizeForm.endLabel,callback:function(e){t.$set(t.sizeForm,"endLabel",e)},expression:"sizeForm.endLabel"}},[i("el-radio",{attrs:{border:!0,label:"站点"}}),t._v(" "),i("el-radio",{attrs:{border:"",label:"区域"}}),t._v(" "),i("el-radio",{attrs:{border:"",label:"知识"}}),t._v(" "),i("el-radio",{attrs:{border:"",label:"企业"}})],1)],1),t._v(" "),i("el-form-item",{attrs:{label:"描述"}},[i("el-input",{attrs:{type:"textarea"},model:{value:t.sizeForm.des,callback:function(e){t.$set(t.sizeForm,"des",e)},expression:"sizeForm.des"}})],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogFormVisible2=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.createRelation}},[t._v("确 定")])],1)],1),t._v(" "),i("el-dialog",{staticStyle:{"margin-top":"-100px","margin-left":"120px"},attrs:{title:"添加实体",visible:t.dialogFormVisible3,"modal-append-to-body":!1},on:{"update:visible":function(e){t.dialogFormVisible3=e}}},[i("el-form",{ref:"form2",staticStyle:{width:"500px","margin-left":"100px"},attrs:{model:t.entityForm,"label-width":"80px",size:"mini"}},[i("el-form-item",{attrs:{label:"实体名称"}},[i("el-input",{model:{value:t.entityForm.entityName,callback:function(e){t.$set(t.entityForm,"entityName",e)},expression:"entityForm.entityName"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"实体歧义"}},[i("el-input",{model:{value:t.entityForm.entityAmbiguous,callback:function(e){t.$set(t.entityForm,"entityAmbiguous",e)},expression:"entityForm.entityAmbiguous"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"实体链接"}},[i("el-input",{model:{value:t.entityForm.entityLink,callback:function(e){t.$set(t.entityForm,"entityLink",e)},expression:"entityForm.entityLink"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"实体标签"}},[i("el-radio-group",{staticStyle:{width:"500px"},attrs:{size:"medium"},model:{value:t.entityForm.label,callback:function(e){t.$set(t.entityForm,"label",e)},expression:"entityForm.label"}},[i("el-radio",{attrs:{border:"",label:"知识"}}),t._v(" "),i("el-radio",{attrs:{border:"",label:"其他"}})],1)],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogFormVisible3=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.addEntity}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var n=i("VU/8")(l,a,!1,function(t){i("ZKz7")},null,null);e.default=n.exports}});
//# sourceMappingURL=22.9de4a99e6d56a53aeda8.js.map